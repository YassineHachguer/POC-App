<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>Virements</h3>
  <div>
    <button class="btn btn-primary me-2" (click)="create()">Nouveau</button>
    <button class="btn btn-outline-secondary" (click)="load()">Rafraîchir</button>
  </div>
</div>

<div *ngIf="loading" class="alert alert-info">Chargement...</div>
<div *ngIf="error" class="alert alert-danger">{{ error }}</div>

<table class="table table-striped" *ngIf="!loading && virements.length > 0">
  <thead>
  <tr><th>ID</th><th>Bénéficiaire</th><th>RIB source</th><th class="text-end">Montant</th><th>Description</th><th>Date</th><th>Type</th></tr>
  </thead>
  <tbody>
  <tr *ngFor="let v of virements">
    <td>{{ v.id }}</td>
    <td>{{ getBeneficiaryName(v.beneficiaryId) }}</td>
    <td>{{ v.ribSource }}</td>
    <td class="text-end">{{ v.amount | number:'1.2-2' }}</td>
    <td>{{ v.description }}</td>
    <td>{{ v.date | date:'short' }}</td>
    <td>{{ v.type }}</td>
  </tr>
  </tbody>
</table>

<div *ngIf="!loading && virements.length === 0" class="alert alert-warning">
  Aucun virement trouvé.
</div>
