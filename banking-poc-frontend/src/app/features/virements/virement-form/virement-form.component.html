<div>
  <h3>Créer un virement</h3>

  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <form (ngSubmit)="save()" #f="ngForm">
    <div class="mb-3">
      <label class="form-label">Bénéficiaire</label>
      <select class="form-select" [(ngModel)]="model.beneficiaryId" name="beneficiaryId" required>
        <option *ngFor="let b of beneficiaries" [value]="b.id">{{ b.nom }} {{ b.prenom }} ({{ b.rib }})</option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">RIB Source</label>
      <input class="form-control" [(ngModel)]="model.ribSource" name="ribSource" required />
    </div>

    <div class="mb-3">
      <label class="form-label">Montant</label>
      <input type="number" step="0.01" class="form-control" [(ngModel)]="model.amount" name="amount" required />
    </div>

    <div class="mb-3">
      <label class="form-label">Description</label>
      <input class="form-control" [(ngModel)]="model.description" name="description" />
    </div>

    <div class="mb-3">
      <label class="form-label">Type</label>
      <select class="form-select" [(ngModel)]="model.type" name="type" required>
        <option [value]="'NORMAL'">NORMAL</option>
        <option [value]="'INSTANT'">INSTANT</option>
      </select>
    </div>

    <button class="btn btn-primary" type="submit" [disabled]="saving">Créer</button>
    <button class="btn btn-secondary ms-2" type="button" (click)="cancel()" [disabled]="saving">Annuler</button>
  </form>
</div>
